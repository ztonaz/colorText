

<!DOCTYPE html>
<html>
    <head>
        <title>ztonaz Fast Typing Javascript Code</title>
        <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
    </head>
    
    <body>     
        <input id="theCopy" type=hidden> 
        <p id="whatIs"></p> 
        <p id="completeText"></p> 
        <br/>
        <input id="copy" autofocus>
    </body>
   
</html>

<script type="text/javascript">

textToWrite = ["Hacemos ", "pruebas ", "escribiendo ", "codigo ", "random."]

//index for word in complete text
indexWordComplete=0
indexLetterComplete=0


var indexInputLen = 0
var maxInputLen = textToWrite[indexInputLen].length
indexWordIn = 0
ttw=textToWrite[indexWordIn]
document.getElementById("copy").maxLength = ttw.length

document.getElementById("whatIs").innerText = ttw
document.getElementById("whatIs").maxLength = maxInputLen

w = document.getElementById("whatIs").innerText
textWithColors = ""
for (var i = 0; i < w.length; i++) {
    textWithColors = textWithColors + '<span id=' + i + ' style="color:black">' + w[i] + '</span>'
}

document.getElementById("whatIs").innerHTML = textWithColors

//create the complete Text 
ttwComplete = textToWrite[indexWordComplete]
document.getElementById("completeText").innerText = ttwComplete

idWordComplete = 10000000

completeTextWithColors= ""
arrayTextToWriteComplete=[]
idLetterComplete = 10000
for (j=0; j<textToWrite.length; j++){

    completeLetters = textToWrite[j]
    theWord=""
    for (y=0;y<completeLetters.length;y++){
        theWord = theWord + '<span id=' + (idLetterComplete) + '>' + completeLetters[y] + '</span>'

        idLetterComplete++
    }
    arrayTextToWriteComplete.push(theWord)


    completeTextWithColors = completeTextWithColors + '<span id=' + (j+idWordComplete) + '>' + textToWrite[j] + '</span>'
    document.getElementById("completeText").innerHTML = completeTextWithColors
    
   
}
document.getElementById("completeText").innerHTML = completeTextWithColors
idLetterComplete = 10000

//Github at: https://github.com/ztonaz
$(function() {

    $("#copy").on('input', function (){
   // Your stuff...
    $("#theCopy").val($("#copy").val());

        // o text your write
        o = $("#theCopy").val()

        lenText = o.length

        w = document.getElementById("whatIs").innerText

        //original text with length of your input
        original = w.substring(0, lenText)
        
        innerHas = document.getElementById("whatIs").innerHTML
        
        for (i=0; i<lenText; i++){
            const div = document.getElementById(i);
            
            if (o[i]==original[i]){
                div.style.color = "green"
                $('#'+ idWordComplete).html($('#whatIs').html()+" ");

            }
            else{
                if (div){
                    div.style.color = "red"
                    $('#'+ idWordComplete).html($('#whatIs').html()+" ");

                }
                
            }
        }

        for (i=lenText; i<innerHas.length; i++){
            $( "#" + i ).css( "color", "black" );
        }
    

         if (lenText==maxInputLen){
               // document.getElementById("copy").value = ""
               // ++indexInputLen
               // maxInputLen = textToWrite[indexInputLen].length
               // document.getElementById("whatIs").maxLength = maxInputLen

         }


                innerHas2 = document.getElementById("whatIs").innerHTML
                lenInput = $("#copy").val().length
                console.log("my input length: "+ lenInput + "\n" + "theThext lenth: "+(w.length+1))
                if (innerHas2.includes("red")){

                }
                else{
                     $('#'+ idWordComplete).html($('#whatIs').html()+" ");
                    if(indexWordIn != textToWrite.length){
                        str1 = $("#copy").val()
                        //if word and space correct go to next word
                        if (lenInput==w.length+1 && str1.indexOf(" ") != -1){
                            ++indexWordIn
                            //++wordInAllText
                            ttw=textToWrite[indexWordIn]
                            document.getElementById("whatIs").innerText = ttw
                            w = document.getElementById("whatIs").innerText
                            textWithColors = ""
                            for (var i = 0; i < w.length; i++) {
                                textWithColors = textWithColors + '<span id=' + i + ' style="color:black">' + w[i] + '</span>'
                            }

                            document.getElementById("whatIs").innerHTML = textWithColors
                            document.getElementById("copy").value = ""
                            document.getElementById("copy").maxLength = ttw.length

                            

                            deleteTheId = document.getElementById(idWordComplete).innerHTML
                            ha = deleteTheId.replaceAll('id=' , "p=")
                            document.getElementById(idWordComplete).innerHTML = ha

                            idWordComplete++
                        }


                         else{
                    if (str1.indexOf(".") != -1 && indexWordIn==textToWrite.length-1){
                        alert("final")
                    }

                }


                    }
               

        }

    });

    
});




//visit my blog at ztonaz.com 


</script>
